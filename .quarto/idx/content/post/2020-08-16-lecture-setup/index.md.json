{"title":"My Online Lecture Setup","markdown":{"yaml":{"title":"My Online Lecture Setup","author":"Klinkenberg","date":"2020-08-16","tags":["OBS","online","lecture"],"math":false,"summary":"A deep dive into my online lecture setup.","image":{"caption":"Application Connections","placement":3}},"headingText":"Connecting OBS to zoom","containsRefs":false,"markdown":"\n\nStrap in there, because this is going to be a deep dive. In a previous blog post, I already described how you could use open broadcast software (OBS) to overly a logo or presentation on your webcam feed, and switch between scenes while presenting. Based on that experience, I recently gave a two-hour online workshop taking this to the next level. The video below shows live interaction with the students. In this post, I will elaborate on how to connect all the applications and the hardware I use.\n\n<iframe width=\"100%\" height=\"415\"   src=\"https://www.youtube.com/embed/epsqxVKkYpE?start=2224\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\nAs I [recently switched back to the mac](http://www.klinkenberg.amsterdam/post/2020-07-24-back-to-the-mac/), this post focusses on the setup for the mac only. Though it also works on windows. Sometimes even easier.\n\n![Camera Setup](/media/camera.png)\n\n\nUsing OBS as the central hub for all video input means we have to get that video feed into zoom. For windows, this is easy with the [OBS webcam plugin](https://obsproject.com/forum/resources/obs-virtualcam.539/). Though on the MAC, we have to use the [Network Device Interface (NDI) plugin](https://obsproject.com/forum/resources/obs-ndi-newtek-ndi™-integration-into-obs-studio.528/) to send out a video and convert that to a virtual camera, using the NDI Virtual input application, which is available in the [NDITools package at NDI.tv](https://ndi.tv/tools/).\n\nWhile zoom initially supported virtual camera input, the current version 5.0.4 seems to break that support. Though by unsigning the zoom application, this problem can be resolved quickly. Just paste the following command in the terminal.\n\n`codesign --remove-signature /Applications/zoom.us.app`\n\nNow, we are finally ready to stream video from OBS to zoom, and at the same time, we can record or stream the OBS output in HD, which lands us at the next problem. The only audio recorded is your voice and not the questions or conversations with your students.\n\nFor OBS to pick up the sound from zoom, the audio needs to be redirected. For this purpose, the best application on the mac is [Loopback](https://rogueamoeba.com/loopback/). However, this will set you back $120. I tried a bunch of free alternatives, but none seemed to work consistently.\n\nWhile this allowed me to record all the necessary audio and I could tell my students their faces would not end up online, the recordings do feel a bit eery, with student voices coming out of nowhere. To fix this problem, I added a [spectralizer in OBS](https://obsproject.com/forum/resources/spectralizer.861/) to visualize the audio from my students.\n\nIn my [previous post on using OBS](http://www.klinkenberg.amsterdam/post/presentation_overlay/), I described using a second monitor to use as input for zoom. I recently realized this is not even needed. Because you can screen share in zoom using the same virtual camera input. Screen sharing in zoom forces the presenter mode on the students. So, you, as a teacher, are assured they are not just staring at each other.\n\n## Hardware\n\nAs I am an [award-winning amateur photographer](https://www.facebook.com/119450864790538/photos/pb.119450864790538.-2207520000../121665361235755/?type=3&theater) :-) I have some camera gear lying around.\n\nSo, instead of using my laptop webcam, I connect my canon M50 camera through USB, added a continuous power source, and attached my 24mm F2 canon EF lens for a nice wide-angle. For audio, I recently switched to the RodeVideoMic NTG. Attached to the cold shoe of my camera, with a magic arm, it makes for a pretty compact recording setup. Though, the icing on the cake is the 3D printed camera mounted teleprompter, which I use with my iPhone running an extra zoom session. This way, it is easier to look straight into the camera at your students asking questions.\n\n![USB-C Hub](/media/hub.png)\n\nWith only one USB-c hub connected to my mac, the USB from the M50 and Mic go straight into the MacBook pro. The USB-c hub also supports a network cable, which is a must to ensure an uninterrupted connection.\n\n## Tying it all together\n\nSo, to run an online lecture, I fire up zoom on the computer and iPhone using the same account. iPhone in the teleprompter with all notifications and audio video turned off. I set the \"starting in 5 minutes scene\", turn on screen sharing from 2nd camera (advanced tab) and hit record in OBS. \n","srcMarkdownNoYaml":"\n\nStrap in there, because this is going to be a deep dive. In a previous blog post, I already described how you could use open broadcast software (OBS) to overly a logo or presentation on your webcam feed, and switch between scenes while presenting. Based on that experience, I recently gave a two-hour online workshop taking this to the next level. The video below shows live interaction with the students. In this post, I will elaborate on how to connect all the applications and the hardware I use.\n\n<iframe width=\"100%\" height=\"415\"   src=\"https://www.youtube.com/embed/epsqxVKkYpE?start=2224\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\n\nAs I [recently switched back to the mac](http://www.klinkenberg.amsterdam/post/2020-07-24-back-to-the-mac/), this post focusses on the setup for the mac only. Though it also works on windows. Sometimes even easier.\n\n![Camera Setup](/media/camera.png)\n\n## Connecting OBS to zoom\n\nUsing OBS as the central hub for all video input means we have to get that video feed into zoom. For windows, this is easy with the [OBS webcam plugin](https://obsproject.com/forum/resources/obs-virtualcam.539/). Though on the MAC, we have to use the [Network Device Interface (NDI) plugin](https://obsproject.com/forum/resources/obs-ndi-newtek-ndi™-integration-into-obs-studio.528/) to send out a video and convert that to a virtual camera, using the NDI Virtual input application, which is available in the [NDITools package at NDI.tv](https://ndi.tv/tools/).\n\nWhile zoom initially supported virtual camera input, the current version 5.0.4 seems to break that support. Though by unsigning the zoom application, this problem can be resolved quickly. Just paste the following command in the terminal.\n\n`codesign --remove-signature /Applications/zoom.us.app`\n\nNow, we are finally ready to stream video from OBS to zoom, and at the same time, we can record or stream the OBS output in HD, which lands us at the next problem. The only audio recorded is your voice and not the questions or conversations with your students.\n\nFor OBS to pick up the sound from zoom, the audio needs to be redirected. For this purpose, the best application on the mac is [Loopback](https://rogueamoeba.com/loopback/). However, this will set you back $120. I tried a bunch of free alternatives, but none seemed to work consistently.\n\nWhile this allowed me to record all the necessary audio and I could tell my students their faces would not end up online, the recordings do feel a bit eery, with student voices coming out of nowhere. To fix this problem, I added a [spectralizer in OBS](https://obsproject.com/forum/resources/spectralizer.861/) to visualize the audio from my students.\n\nIn my [previous post on using OBS](http://www.klinkenberg.amsterdam/post/presentation_overlay/), I described using a second monitor to use as input for zoom. I recently realized this is not even needed. Because you can screen share in zoom using the same virtual camera input. Screen sharing in zoom forces the presenter mode on the students. So, you, as a teacher, are assured they are not just staring at each other.\n\n## Hardware\n\nAs I am an [award-winning amateur photographer](https://www.facebook.com/119450864790538/photos/pb.119450864790538.-2207520000../121665361235755/?type=3&theater) :-) I have some camera gear lying around.\n\nSo, instead of using my laptop webcam, I connect my canon M50 camera through USB, added a continuous power source, and attached my 24mm F2 canon EF lens for a nice wide-angle. For audio, I recently switched to the RodeVideoMic NTG. Attached to the cold shoe of my camera, with a magic arm, it makes for a pretty compact recording setup. Though, the icing on the cake is the 3D printed camera mounted teleprompter, which I use with my iPhone running an extra zoom session. This way, it is easier to look straight into the camera at your students asking questions.\n\n![USB-C Hub](/media/hub.png)\n\nWith only one USB-c hub connected to my mac, the USB from the M50 and Mic go straight into the MacBook pro. The USB-c hub also supports a network cable, which is a must to ensure an uninterrupted connection.\n\n## Tying it all together\n\nSo, to run an online lecture, I fire up zoom on the computer and iPhone using the same account. iPhone in the teleprompter with all notifications and audio video turned off. I set the \"starting in 5 minutes scene\", turn on screen sharing from 2nd camera (advanced tab) and hit record in OBS. \n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["styles.css"],"toc":true,"output-file":"index.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.45","theme":"cosmo","title":"My Online Lecture Setup","author":"Klinkenberg","date":"2020-08-16","tags":["OBS","online","lecture"],"math":false,"summary":"A deep dive into my online lecture setup.","image":{"caption":"Application Connections","placement":3}},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}